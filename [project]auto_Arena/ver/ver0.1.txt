[숫자인식 기능 ver0.1]

[모델]
	[cnn_v2.h5] - MNIST 데이터셋
	[cnn_v3.h5] - 쿠키런 킹덤 폰트 숫자 데이터셋
	[cnn_v4.h5] - 쿠키런 킹덤 폰트 + MNIST 숫자 데이터셋
	[cnn_v5.h5] - 쿠키런 킹덤 폰트 + 실제 쿠키런에서 수집한 데이터 + MNIST 숫자 데이터셋
[진행 순서]
1. 데이터 만들기( 특징벡터, 레이블 ) 
	- MNIST 데이터 셋 전이학습 x
	- 쿠키런 킹덤 폰트를 캡처하여 데이터 셋 구성 x
	- MNIST + 쿠키런 킹덤 폰트 ok
	- 부류 지정 ok

2. CNN 모델 학습 및 검증
	- 학습 ok

3. 예측 및 성능 측정(혼동 행렬 이용10x10)
	- 90% 이하일 시 2단계 반복 ok
	- 배경만 찍힌 이미지에는 숫자 1로 인식하는 문제를 확인

4. 파이썬 GUI 디자인 설계 및 구현
	Ver0.1 시나리오
	[캡처 기능]
		1. 이미지 촬영 버튼을 누른다.
		2. 임의의 마우스 위치에서 임의의 단축키를 눌러 좌표를 찍는다.
		3. (2)의 행동을 한번 더 찍어 (x1,x2,y1,y2)를 얻고 숫자 이미지를 캡처한다.

	[전처리 기능]
		1. 얻은 이미지를 한 자릿수로 인식할 수 있도록 분할한다.
		2. 분할한 이미지들을 저장한다.
		3. 분할한 이미지들을 모델의 입력 데이터 형태로 변화하고 인식을 수행한다.

	[기록]
		1. 한 자릿수 분할한 이미지와 인식의 결과를 기록한다. ( argmax 후 .txt )
		2. 저장된 이미지와 인식 결과를 가지고 정확도 계산에 쓴다.

	
5. 실제 성능 측정
	
[진행 상황]
1. 학습
- MNIST 데이터 셋은 과잉적합이 심해서 맞지 않음.
- 쿠키런 킹덤 폰트를 직접 다운로드하여 숫자 이미지 직접 캡처
- 캡처한 이미지를 데이터 증강으로 생성, 검증 이미지는 게임 상 숫자 캡처
- 킹덤 폰트만으로는 과잉적합이 매우 심함
- 합쳐서 학습진행, 매우 만족스러운 학습 결과가 나옴

문제점 : 
1. 아무것도 그려있지 않은 배경을 1로 인식하고 있음.
2. 1과 7이 비슷하게 생겨서 혼동되어서 인식하고 있음.

해결방법(?) :
1. 캡처를 잘 찍어야 함. (how?) - 숫자를 이미지 가운데에 있을 때 100% 정확도를 보임

2. GUI 
- GUI 디자인 및 기능 상세화
- [캡처 기능] 구현
	- 키보드 Q가 (x1, y1), W가 (x2, y2), E가 Q, W지점대로 이미지 저장
	- 키보드 A를 누를 시 리스트에 좌표들을 저장. 
	- 키보드 E를 누를 시 리스트에 저장된 좌표들에 대하여 캡쳐하고 전처리, 저장 과정을 모두 거쳐 자동화 완성
	- 정상 작동
	문제점: 숫자 구분점 ','이 숫자 분할에 잡음을 일으킴
	해결: 전처리 과정에서 연결요소 삭제함수를 이용함.

- [전처리 기능] 구현
	- 분할된 이미지들을 상대경로로 불러오는 걸로 구현함 추후 개선 ( processingFunction 함수 , crop 함수 이미지 경로 주의 )
	- 분할에 필요한 함수 매개변수 입력 박스를 만들어야 함
	- 분할기능 코드는 PIL 라이브러리를 사용함, 주의( 되도록 OpenCV 라이브러리로 통일 )
	- scikit-image 라이브러리 중 morphology.remove_small_objects 함수를 사용하여 100 픽셀 이상인 연결요소를 제외한 부분을 삭제시켜 성능을 향상시킴
	- 정상 작동

- [예측 기능]
	- 검은 이미지를 1로 인식하는 경우를 어떻게 해야할지 고민
	- 기능은 정상 작동

- [기록]
	- 현재날짜와 시간별로 폴더를 생성하고 안에 숫자 이미지를 저장.
	- 본 이미지와 분할된 이미지, 전처리를 수행한 이미지를 모두 저장
	- 예측된 숫자는 텍스트 파일에 기록. [ 이미지 이름, 예측된 숫자, 실제 숫자 ] 실제 숫자는 수작업으로 기록
	- 아웃라이어 이미지는 삭제.
	- 정리된 모든 기록들을 재학습에 쓰이거나 프로그램 정확도 성능 측정에 사용될 예정
	- 정상 작동

3. 실제 성능 측정
	- 실제 쿠키런 킹덤 아레나 전투력을 캡쳐하여 데이터를 수집하고 100장 씩 레이블링 하는 중
	- 데이터가 어느정도 모일 때 재학습을 할 것
	- 

[발견된 문제점]
1. 검은 이미지를 1로 인식하지 않음. 0으로 인식하게 유도
2. 1과 7이 비슷하게 생겨서 혼동되어서 인식하고 있음 
	- 폰트 디자인적 문제? ( 1과 7 차이가 크기 때문에 감수하기가 좀 그렇다. )
	- 인위적으로 7에 이미지 표시? ( 위험할듯 )
3. 